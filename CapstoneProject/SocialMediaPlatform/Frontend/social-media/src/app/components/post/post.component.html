<app-header></app-header>
<div class="container mt-4 py-3">
    <h1>{{postId ? 'Update Post' : 'Post'}}</h1>

    <!-- Success Message -->
    @if (isPostCreated) {
        <div class="alert alert-success">
            Your post has been successfully created!
        </div>
    }

    <!-- Success Message -->
    @if (isPostUpdated) {
        <div class="alert alert-success">
            Your post has been successfully updated!
        </div>
    }

    <!-- Error Message -->
    @if (errorMessage) {
        <div class="alert alert-danger">
            {{ errorMessage }}
        </div>
    }
    
    <form class="mt-3" #registerForm = "ngForm" (ngSubmit)="onSubmit()">
        <div class="form-group mt-3">
            <label class="form-label" for="caption">Caption</label>
            <input type="text" name="caption" id="caption" class="form-control" [(ngModel)] = "caption">
        </div>
        <div class="form-group mt-3">
            <label class="form-label" for="imageUrl">Image</label><br>
            <input type="file" name="imageUrl" id="imageUrl" (change)="onFileSelected($event)">
        </div>
        <div class="form-group mt-3">
            <input type="submit" class="btn btn-primary">
        </div>
    </form>
</div>